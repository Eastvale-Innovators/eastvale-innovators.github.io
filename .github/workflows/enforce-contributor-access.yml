name: Enforce Contributor Access
on:
  pull_request:
    types: [opened, synchronize]
jobs:
  check-user:
    runs-on: ubuntu-latest
    steps:
      - name: Check if user is approved
        uses: actions/github-script@v6
        with:
          script: |
            const allowed = ['DevomB', 'SireSoul', 'natanielj', 'Aryanwadhera'];
            const sender = context.payload.sender.login;
            if (!allowed.includes(sender)) {
              core.setFailed(`User ${sender} is not approved to push or create PRs. Please open a GitHub Issue instead.`);
            }